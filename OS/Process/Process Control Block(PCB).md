# 프로세스 제어 블록 (PCB)

**프로세스 제어 블록(Process Control Block, PCB)**은 운영 체제에서 각 프로세스를 효율적으로 관리하고 제어하기 위한 **데이터 구조**입니다. 각 프로세스에 대해 하나의 PCB가 존재하며, 해당 프로세스의 상태, 자원 정보, 스케줄링 정보 등이 저장되어 있습니다.

---

## PCB란 무엇인가?

PCB는 프로세스가 생성될 때 운영 체제에 의해 함께 생성되며, 프로세스의 모든 동작과 상태를 추적합니다. 이 정보를 바탕으로 운영 체제는 멀티태스킹, 스케줄링, 리소스 할당 등을 수행할 수 있습니다.

운영 체제는 **모든 활성 프로세스에 대한 PCB를 저장한 테이블**을 유지하는데, 이를 **프로세스 테이블**이라 합니다.

---

## PCB에 저장되는 주요 정보

- **프로세스 상태**: 실행 중, 대기 중, 준비 중, 종료됨 등
- **프로세스 ID (PID)**: 고유 식별자
- **프로그램 카운터**: 다음에 실행될 명령어의 주소
- **CPU 레지스터 값**: 컨텍스트 전환 시 상태 복원에 사용
- **메모리 정보**: 프로세스에 할당된 메모리 범위
- **스케줄링 정보**: 우선순위, 스케줄링 알고리즘 등
- **회계 정보**: CPU 사용 시간, 메모리 사용량 등
- **I/O 상태 정보 및 파일 디스크립터**: 열려 있는 파일, 사용 중인 장치 정보 등

---

## PCB의 주요 역할

### 1. 프로세스 스케줄링
PCB에 저장된 우선순위, 상태, 사용 리소스 등의 정보를 기반으로 스케줄러는 어떤 프로세스를 실행할지 결정합니다.

### 2. 멀티태스킹 지원
여러 프로세스를 동시에 실행하기 위해, PCB는 리소스 할당, 동기화 상태 등을 관리하여 안정적인 멀티태스킹을 지원합니다.

### 3. 컨텍스트 전환
프로세스 전환 시, 현재 프로세스의 상태는 PCB에 저장되고, 새 프로세스의 상태는 PCB로부터 복원되어 실행을 이어갑니다.

### 4. 리소스 공유 및 추적
파일, 메모리 등의 리소스 사용 정보를 저장하여 리소스 관리와 공유에 활용됩니다.

---

## PCB의 저장 위치

PCB는 일반 사용자 영역에서 접근할 수 없는 **커널 영역의 메모리**에 저장됩니다. 일부 운영 체제에서는 **커널 스택의 시작 부분**에 PCB를 배치하여 보안성과 접근 속도를 높입니다.

---

## PCB 사용의 장점

- 프로세스에 대한 모든 정보를 한 곳에 저장하여 **효율적인 스케줄링과 리소스 관리** 가능
- **컨텍스트 전환** 시 빠른 상태 저장 및 복원 가능
- **리소스 추적 및 공유**에 용이
- **프로세스 동기화 및 상태 관리**를 체계적으로 수행

---

## PCB 사용의 단점

- **메모리 오버헤드**: 모든 프로세스에 대한 PCB를 저장해야 하므로 메모리 사용량 증가
- **복잡성 증가**: PCB가 많아지면 시스템의 유지보수 및 확장성이 낮아질 수 있음
- **성능 저하**: PCB 관련 연산과 관리가 많아지면 시스템 자원 소모 증가
